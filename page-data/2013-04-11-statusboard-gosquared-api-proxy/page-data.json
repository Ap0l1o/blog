{"componentChunkName":"component---src-components-post-post-jsx","path":"/2013-04-11-statusboard-gosquared-api-proxy/","result":{"data":{"markdownRemark":{"html":"<p>Yesterday <a href=\"http://panic.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Panic</a>, a well known Mac and iOS development company, launched a new app for iPad. <a href=\"http://panic.com/statusboard\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Status Board</a> is based on their famous <a href=\"http://www.panic.com/blog/2010/03/the-panic-status-board/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">office status board</a>.</p>\n<p>Since I worked at <a href=\"http://gosquared.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GoSquared</a> last summer, know the API and use the service, so I thought it would be nice to get the timeline of current visitors and top pages from my site into a panel on my status board.</p>\n<p>I’ve set up a public API for this so that you can use it with no setup at all. But the code is all on GitHub so you can self-host it.</p>\n<h4 id=\"timeline\" style=\"position:relative;\"><a href=\"#timeline\" aria-label=\"timeline permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Timeline</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d3b033edc06d84fb984af441a85cc4e1/0f92e/statusboard-gosquared.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQoz32QW2/TQBCFZ3dtr9P4tr7lQhonBVRRaImUSJS2kYhSKygPVS31p5MHxD8h3h3Gdh8qRHn4NGfOzJ5dLQyHw2SxWDze3NxU19fX1d3dXbVcLltub2+r1WpVTafTaj6fV7PZ7DUeiSdiA6PRqKSDeH9/j9vtFh8eHpCCcb1e436/x2+bDU4mEyyKAin4VZ7nP2E8HpcUioPBoG6gF2uquqnDPG0ZjcbE6H8cmwziAHmelflggFmW6izLnsl1lsY6Lq6IS50l6sXsnxwJysgOkCRpGasIoyTTSsWEMioKTJSfmuD0irhstYpC085U/FdtqQkkDuCduGWv76M932jZ87V0LCMtZpz0rZE9zzhBbhxVGCnASCmNtLmRjkNVULU7T8qaQNd1D+A6ouSWRAgKDW6soT80kFwYiM8NABjgtoFgSt4HA0x0M24ZUO8NOH63A1ATyBg7gCPdklEDQmoI5xq8N5oCNB3QtNSRLzRknzWkn2jnjOpHTReSnnVzf3KEXoaUQ4GOUzIuDKdbWH555Ml53WjOWM05bzUbf6n5SVKzxm96YXU1mNQsvahZWPxm0Rly6f8AembZ7/cxDAIMVYxBnKPve4SPje95RBijH0Tok/b9gDyaEx7p/uBdu+vR3AvVL6CPVLZt7yzL/m4JtrMY7Ky2t54hzckTvNMvfSF2NkDXC7a3Bfv6B9u35gx89fuKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/d3b033edc06d84fb984af441a85cc4e1/2b93a/statusboard-gosquared.webp 150w,\n/static/d3b033edc06d84fb984af441a85cc4e1/e93cc/statusboard-gosquared.webp 300w,\n/static/d3b033edc06d84fb984af441a85cc4e1/33862/statusboard-gosquared.webp 550w\"\n          sizes=\"(max-width: 550px) 100vw, 550px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/d3b033edc06d84fb984af441a85cc4e1/b8d62/statusboard-gosquared.png 150w,\n/static/d3b033edc06d84fb984af441a85cc4e1/eed55/statusboard-gosquared.png 300w,\n/static/d3b033edc06d84fb984af441a85cc4e1/0f92e/statusboard-gosquared.png 550w\"\n          sizes=\"(max-width: 550px) 100vw, 550px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/d3b033edc06d84fb984af441a85cc4e1/0f92e/statusboard-gosquared.png\"\n          alt=\"GoSquared Statusboard Graph\"\n          title=\"GoSquared Statusboard Graph\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p><a href=\"http://statusboard.danpalmer.me/timeline/demo/GSN-181546-E\">http://statusboard.danpalmer.me/timeline/<code>API<em>KEY</code>/<code>SITE</em>TOKEN</code>/<code>COLOUR?</code></a></p>\n<p><strong>Note: this service is no longer provided, GoSquared now provide first-class support for Panic’s Statusboard, see <a href=\"https://www.gosquared.com/statusboard/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a> for more details.</strong></p>\n<p>The colour of the graph is defined in the JSON returned, and defaults to “blue”. Colours that Status Board will display are <em>red</em>, <em>blue</em>, <em>green</em>, <em>yellow</em>, <em>orange</em>, <em>purple</em>, <em>aqua</em>, or <em>pink</em>.</p>\n<h4 id=\"pages\" style=\"position:relative;\"><a href=\"#pages\" aria-label=\"pages permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pages</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1345625c194eb69b57f71acaec9eb26b/15ea4/statusboard-gosquared-pages.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSklEQVQoz5VTW2uaQRBdTWLiXeM1KipIosYQFUFFY7yhCeIlqYoIgs/5VYXSQp9K+9K/09IbLYUaP6sbWrrTswuWPhX6cJxxv5mz850zH9vb23MwxrpAH+j9D3Q63cBgMFwdHBxcIX+EsywzGo3Vs7Mzury8pGq1SoVCgQaDgcpTqRS1223K5XLU6XRUTTabVTXNZpPsdjvt7+/znZ2dtd/vp2g0+oq5XK4KCjiKH+r1uowcJPzi4oKDiJdKJY4Leblc5rVajYOQ5/N5DkIej8d/BIPBr16v90ssFpOEzzElK5lMpqXb7dY8Hs/y6OhIM5vNGi7SwuGwJs9ljgm0w8NDDfVbLPV6/ffd3d33wDtwkMPheCIJa5iG5vM5jcdjGo1GVKlUVH53d0e9Xk9JMJlM1DlICRMRLtpibbPZVplMRkrzklmt1iK0+IbDe0y2sFgsi22EvipKYIIFaheoVbnT6ZS5hmdv0fsGzwT6HjP8VKXAmEz0+30BDcV0OhXD4VDMZjNRLBYFphS3t7cCdeL6+lq0Wi3RaDQEdCWQa3D5Xk57cnLygkG3MsRcJxKJDbBGLuPm9PR0AzM2x8fHm/Pzc3WGBhXT6bTM1zDlIRQKfQbHp0AgQMifMVheRrOG91+BTEPRSgKvtIK+KwivogR27e9cGrNG/0fgA+QhED9lcK8u90qKL3cOq0NYD7WDcJfkfkn4fL4/2P6XESS/UPczEolQMpl8zWC1E7Z35NeCr6aLRVWA0F00ddHwL/Q8bk8LsQ3SG/iR+Q3Olf7vHhMIjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/1345625c194eb69b57f71acaec9eb26b/2b93a/statusboard-gosquared-pages.webp 150w,\n/static/1345625c194eb69b57f71acaec9eb26b/e93cc/statusboard-gosquared-pages.webp 300w,\n/static/1345625c194eb69b57f71acaec9eb26b/d2476/statusboard-gosquared-pages.webp 549w\"\n          sizes=\"(max-width: 549px) 100vw, 549px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/1345625c194eb69b57f71acaec9eb26b/b8d62/statusboard-gosquared-pages.png 150w,\n/static/1345625c194eb69b57f71acaec9eb26b/eed55/statusboard-gosquared-pages.png 300w,\n/static/1345625c194eb69b57f71acaec9eb26b/15ea4/statusboard-gosquared-pages.png 549w\"\n          sizes=\"(max-width: 549px) 100vw, 549px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/1345625c194eb69b57f71acaec9eb26b/15ea4/statusboard-gosquared-pages.png\"\n          alt=\"GoSquared Statusboard List\"\n          title=\"GoSquared Statusboard List\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p><a href=\"http://statusboard.danpalmer.me/pages/demo/GSN-181546-E\">http://statusboard.danpalmer.me/pages/<code>API<em>KEY</code>/<code>SITE</em>TOKEN</code></a></p>\n<p>You can find your API key and site tokens <a href=\"https://www.gosquared.com/home/developer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<script src=\"/assets/scripts/jquery-1.7.2.min.js\"></script>\n<script src=\"/assets/scripts/jquery.githubrepowidget.js\"></script>\n<div class=\"github-widget\" data-repo=\"danpalmer/statusboard-gosquared\"></div>\n<p><small><strong>Note:</strong> The API may be taken offline at some point in the future if I am no longer able to maintain it. I take no responsibility for any inconvenience caused by the API not being available.</small></p>\n<h3 id=\"deployment\" style=\"position:relative;\"><a href=\"#deployment\" aria-label=\"deployment permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deployment</h3>\n<p>There are a few ways you can deploy this for your own use. I’ve done a manual setup of Node.js running a local only server on port 8000 as an Upstart service. I use Nginx to reverse proxy to this on the <em>statusboard</em> subdomain.</p>\n<p>My Upstart script in <code>/etc/init/statusboard-gosquared.conf</code> looks something like this:</p>\n<script src=\"https://gist.github.com/danpalmer/5372062.js\"></script>\n<p>Nginx can then be configured as a reverse proxy with something like this (formatting is a bit different so that it fits properly in the embedded Gist):</p>\n<script src=\"https://gist.github.com/danpalmer/5372091.js\"></script>\n<p>If you don’t have a VPS, or don’t want to go through the hassle of setting this up, the API should work well on a singly dyno Heroku application instance. You’ll need to modify the repository a bit to get it ready for Heroku, it needs a Procfile and a different version of Node specified, but it should just work. For more details on how to do this, have a look at <a href=\"https://devcenter.heroku.com/articles/nodejs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Getting Started with Node.js on Heroku</a>. Also note that the bottom of <code>api.js</code> will need to be modified to run on the port given to your application by Heroku, and you will also need to remove the <code>“127.0.0.1”</code> argument to the listen function.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n  }\n  \n  .grvsc-code {\n    display: inline-block;\n    min-width: 100%;\n  }\n  \n  .grvsc-line {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 100%;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-line-highlighted {\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\n  }\n  \n</style>","fields":{"slug":"/2013-04-11-statusboard-gosquared-api-proxy/"},"frontmatter":{"title":"GoSquared API Proxy for Panic's Status Board","theme":null,"originally_on_thread":null,"date":"11 April, 2013"}},"site":{"siteMetadata":{"title":"Dan Palmer","description":"Personal site and blog"}}},"pageContext":{"slug":"/2013-04-11-statusboard-gosquared-api-proxy/"}}}